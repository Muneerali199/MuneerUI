{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "Folder-JS-CSS",
  "type": "registry:block",
  "title": "Folder",
  "description": "Interactive folder opens to reveal nested content smooth motion.",
  "files": [
    {
      "path": "public/default/src/content/Components/Folder/Folder.jsx",
      "content": "import { useState } from 'react';\nimport './Folder.css';\n\nconst darkenColor = (hex, percent) => {\n  let color = hex.startsWith('#') ? hex.slice(1) : hex;\n  if (color.length === 3) {\n    color = color\n      .split('')\n      .map(c => c + c)\n      .join('');\n  }\n  const num = parseInt(color, 16);\n  let r = (num >> 16) & 0xff;\n  let g = (num >> 8) & 0xff;\n  let b = num & 0xff;\n  r = Math.max(0, Math.min(255, Math.floor(r * (1 - percent))));\n  g = Math.max(0, Math.min(255, Math.floor(g * (1 - percent))));\n  b = Math.max(0, Math.min(255, Math.floor(b * (1 - percent))));\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();\n};\n\nconst Folder = ({ color = '#5227FF', size = 1, items = [], className = '' }) => {\n  const maxItems = 3;\n  const papers = items.slice(0, maxItems);\n  while (papers.length < maxItems) {\n    papers.push(null);\n  }\n\n  const [open, setOpen] = useState(false);\n  const [paperOffsets, setPaperOffsets] = useState(Array.from({ length: maxItems }, () => ({ x: 0, y: 0 })));\n\n  const folderBackColor = darkenColor(color, 0.08);\n  const paper1 = darkenColor('#ffffff', 0.1);\n  const paper2 = darkenColor('#ffffff', 0.05);\n  const paper3 = '#ffffff';\n\n  const handleClick = () => {\n    setOpen(prev => !prev);\n    if (open) {\n      setPaperOffsets(Array.from({ length: maxItems }, () => ({ x: 0, y: 0 })));\n    }\n  };\n\n  const handlePaperMouseMove = (e, index) => {\n    if (!open) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n    const offsetX = (e.clientX - centerX) * 0.15;\n    const offsetY = (e.clientY - centerY) * 0.15;\n    setPaperOffsets(prev => {\n      const newOffsets = [...prev];\n      newOffsets[index] = { x: offsetX, y: offsetY };\n      return newOffsets;\n    });\n  };\n\n  const handlePaperMouseLeave = (e, index) => {\n    setPaperOffsets(prev => {\n      const newOffsets = [...prev];\n      newOffsets[index] = { x: 0, y: 0 };\n      return newOffsets;\n    });\n  };\n\n  const folderStyle = {\n    '--folder-color': color,\n    '--folder-back-color': folderBackColor,\n    '--paper-1': paper1,\n    '--paper-2': paper2,\n    '--paper-3': paper3\n  };\n\n  const folderClassName = `folder ${open ? 'open' : ''}`.trim();\n  const scaleStyle = { transform: `scale(${size})` };\n\n  return (\n    <div style={scaleStyle} className={className}>\n      <div className={folderClassName} style={folderStyle} onClick={handleClick}>\n        <div className=\"folder__back\">\n          {papers.map((item, i) => (\n            <div\n              key={i}\n              className={`paper paper-${i + 1}`}\n              onMouseMove={e => handlePaperMouseMove(e, i)}\n              onMouseLeave={e => handlePaperMouseLeave(e, i)}\n              style={\n                open\n                  ? {\n                      '--magnet-x': `${paperOffsets[i]?.x || 0}px`,\n                      '--magnet-y': `${paperOffsets[i]?.y || 0}px`\n                    }\n                  : {}\n              }\n            >\n              {item}\n            </div>\n          ))}\n          <div className=\"folder__front\"></div>\n          <div className=\"folder__front right\"></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Folder;\n",
      "type": "registry:component"
    },
    {
      "path": "public/default/src/content/Components/Folder/Folder.css",
      "content": ":root {\r\n  --folder-color: #70a1ff;\r\n  --folder-back-color: #4785ff;\r\n  --paper-1: #e6e6e6;\r\n  --paper-2: #f2f2f2;\r\n  --paper-3: #ffffff;\r\n}\r\n\r\n.folder {\r\n  transition: all 0.2s ease-in;\r\n  cursor: pointer;\r\n}\r\n\r\n.folder:not(.folder--click):hover {\r\n  transform: translateY(-8px);\r\n}\r\n\r\n.folder:not(.folder--click):hover .paper {\r\n  transform: translate(-50%, 0%);\r\n}\r\n\r\n.folder:not(.folder--click):hover .folder__front {\r\n  transform: skew(15deg) scaleY(0.6);\r\n}\r\n\r\n.folder:not(.folder--click):hover .right {\r\n  transform: skew(-15deg) scaleY(0.6);\r\n}\r\n\r\n.folder.open {\r\n  transform: translateY(-8px);\r\n}\r\n\r\n.folder.open .paper:nth-child(1) {\r\n  transform: translate(-120%, -70%) rotateZ(-15deg);\r\n}\r\n\r\n.folder.open .paper:nth-child(1):hover {\r\n  transform: translate(-120%, -70%) rotateZ(-15deg) scale(1.1);\r\n}\r\n\r\n.folder.open .paper:nth-child(2) {\r\n  transform: translate(10%, -70%) rotateZ(15deg);\r\n  height: 80%;\r\n}\r\n\r\n.folder.open .paper:nth-child(2):hover {\r\n  transform: translate(10%, -70%) rotateZ(15deg) scale(1.1);\r\n}\r\n\r\n.folder.open .paper:nth-child(3) {\r\n  transform: translate(-50%, -100%) rotateZ(5deg);\r\n  height: 80%;\r\n}\r\n\r\n.folder.open .paper:nth-child(3):hover {\r\n  transform: translate(-50%, -100%) rotateZ(5deg) scale(1.1);\r\n}\r\n\r\n.folder.open .folder__front {\r\n  transform: skew(15deg) scaleY(0.6);\r\n}\r\n\r\n.folder.open .right {\r\n  transform: skew(-15deg) scaleY(0.6);\r\n}\r\n\r\n.folder__back {\r\n  position: relative;\r\n  width: 100px;\r\n  height: 80px;\r\n  background: var(--folder-back-color);\r\n  border-radius: 0px 10px 10px 10px;\r\n}\r\n\r\n.folder__back::after {\r\n  position: absolute;\r\n  z-index: 0;\r\n  bottom: 98%;\r\n  left: 0;\r\n  content: '';\r\n  width: 30px;\r\n  height: 10px;\r\n  background: var(--folder-back-color);\r\n  border-radius: 5px 5px 0 0;\r\n}\r\n\r\n.paper {\r\n  position: absolute;\r\n  z-index: 2;\r\n  bottom: 10%;\r\n  left: 50%;\r\n  transform: translate(-50%, 10%);\r\n  width: 70%;\r\n  height: 80%;\r\n  background: var(--paper-1);\r\n  border-radius: 10px;\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n\r\n.paper:nth-child(2) {\r\n  background: var(--paper-2);\r\n  width: 80%;\r\n  height: 70%;\r\n}\r\n\r\n.paper:nth-child(3) {\r\n  background: var(--paper-3);\r\n  width: 90%;\r\n  height: 60%;\r\n}\r\n\r\n.folder__front {\r\n  position: absolute;\r\n  z-index: 3;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: var(--folder-color);\r\n  border-radius: 5px 10px 10px 10px;\r\n  transform-origin: bottom;\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n",
      "type": "registry:item"
    }
  ]
}