{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "Stepper-TS-CSS",
  "type": "registry:block",
  "title": "Stepper",
  "description": "Animated multi-step progress indicator with active state transitions.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "public/ts/default/src/ts-default/Components/Stepper/Stepper.tsx",
      "content": "import React, { useState, Children, useRef, useLayoutEffect, HTMLAttributes, ReactNode } from 'react';\nimport { motion, AnimatePresence, Variants } from 'motion/react';\n\nimport './Stepper.css';\n\ninterface StepperProps extends HTMLAttributes<HTMLDivElement> {\n  children: ReactNode;\n  initialStep?: number;\n  onStepChange?: (step: number) => void;\n  onFinalStepCompleted?: () => void;\n  stepCircleContainerClassName?: string;\n  stepContainerClassName?: string;\n  contentClassName?: string;\n  footerClassName?: string;\n  backButtonProps?: React.ButtonHTMLAttributes<HTMLButtonElement>;\n  nextButtonProps?: React.ButtonHTMLAttributes<HTMLButtonElement>;\n  backButtonText?: string;\n  nextButtonText?: string;\n  disableStepIndicators?: boolean;\n  renderStepIndicator?: (props: RenderStepIndicatorProps) => ReactNode;\n}\n\ninterface RenderStepIndicatorProps {\n  step: number;\n  currentStep: number;\n  onStepClick: (clicked: number) => void;\n}\n\nexport default function Stepper({\n  children,\n  initialStep = 1,\n  onStepChange = () => {},\n  onFinalStepCompleted = () => {},\n  stepCircleContainerClassName = '',\n  stepContainerClassName = '',\n  contentClassName = '',\n  footerClassName = '',\n  backButtonProps = {},\n  nextButtonProps = {},\n  backButtonText = 'Back',\n  nextButtonText = 'Continue',\n  disableStepIndicators = false,\n  renderStepIndicator,\n  ...rest\n}: StepperProps) {\n  const [currentStep, setCurrentStep] = useState<number>(initialStep);\n  const [direction, setDirection] = useState<number>(0);\n  const stepsArray = Children.toArray(children);\n  const totalSteps = stepsArray.length;\n  const isCompleted = currentStep > totalSteps;\n  const isLastStep = currentStep === totalSteps;\n\n  const updateStep = (newStep: number) => {\n    setCurrentStep(newStep);\n    if (newStep > totalSteps) {\n      onFinalStepCompleted();\n    } else {\n      onStepChange(newStep);\n    }\n  };\n\n  const handleBack = () => {\n    if (currentStep > 1) {\n      setDirection(-1);\n      updateStep(currentStep - 1);\n    }\n  };\n\n  const handleNext = () => {\n    if (!isLastStep) {\n      setDirection(1);\n      updateStep(currentStep + 1);\n    }\n  };\n\n  const handleComplete = () => {\n    setDirection(1);\n    updateStep(totalSteps + 1);\n  };\n\n  return (\n    <div className=\"outer-container\" {...rest}>\n      <div className={`step-circle-container ${stepCircleContainerClassName}`} style={{ border: '1px solid #222' }}>\n        <div className={`step-indicator-row ${stepContainerClassName}`}>\n          {stepsArray.map((_, index) => {\n            const stepNumber = index + 1;\n            const isNotLastStep = index < totalSteps - 1;\n            return (\n              <React.Fragment key={stepNumber}>\n                {renderStepIndicator ? (\n                  renderStepIndicator({\n                    step: stepNumber,\n                    currentStep,\n                    onStepClick: clicked => {\n                      setDirection(clicked > currentStep ? 1 : -1);\n                      updateStep(clicked);\n                    }\n                  })\n                ) : (\n                  <StepIndicator\n                    step={stepNumber}\n                    disableStepIndicators={disableStepIndicators}\n                    currentStep={currentStep}\n                    onClickStep={clicked => {\n                      setDirection(clicked > currentStep ? 1 : -1);\n                      updateStep(clicked);\n                    }}\n                  />\n                )}\n                {isNotLastStep && <StepConnector isComplete={currentStep > stepNumber} />}\n              </React.Fragment>\n            );\n          })}\n        </div>\n\n        <StepContentWrapper\n          isCompleted={isCompleted}\n          currentStep={currentStep}\n          direction={direction}\n          className={`step-content-default ${contentClassName}`}\n        >\n          {stepsArray[currentStep - 1]}\n        </StepContentWrapper>\n\n        {!isCompleted && (\n          <div className={`footer-container ${footerClassName}`}>\n            <div className={`footer-nav ${currentStep !== 1 ? 'spread' : 'end'}`}>\n              {currentStep !== 1 && (\n                <button\n                  onClick={handleBack}\n                  className={`back-button ${currentStep === 1 ? 'inactive' : ''}`}\n                  {...backButtonProps}\n                >\n                  {backButtonText}\n                </button>\n              )}\n              <button onClick={isLastStep ? handleComplete : handleNext} className=\"next-button\" {...nextButtonProps}>\n                {isLastStep ? 'Complete' : nextButtonText}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\ninterface StepContentWrapperProps {\n  isCompleted: boolean;\n  currentStep: number;\n  direction: number;\n  children: ReactNode;\n  className?: string;\n}\n\nfunction StepContentWrapper({ isCompleted, currentStep, direction, children, className }: StepContentWrapperProps) {\n  const [parentHeight, setParentHeight] = useState<number>(0);\n\n  return (\n    <motion.div\n      className={className}\n      style={{ position: 'relative', overflow: 'hidden' }}\n      animate={{ height: isCompleted ? 0 : parentHeight }}\n      transition={{ type: 'spring', duration: 0.4 }}\n    >\n      <AnimatePresence initial={false} mode=\"sync\" custom={direction}>\n        {!isCompleted && (\n          <SlideTransition key={currentStep} direction={direction} onHeightReady={h => setParentHeight(h)}>\n            {children}\n          </SlideTransition>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n}\n\ninterface SlideTransitionProps {\n  children: ReactNode;\n  direction: number;\n  onHeightReady: (h: number) => void;\n}\n\nfunction SlideTransition({ children, direction, onHeightReady }: SlideTransitionProps) {\n  const containerRef = useRef<HTMLDivElement | null>(null);\n\n  useLayoutEffect(() => {\n    if (containerRef.current) {\n      onHeightReady(containerRef.current.offsetHeight);\n    }\n  }, [children, onHeightReady]);\n\n  return (\n    <motion.div\n      ref={containerRef}\n      custom={direction}\n      variants={stepVariants}\n      initial=\"enter\"\n      animate=\"center\"\n      exit=\"exit\"\n      transition={{ duration: 0.4 }}\n      style={{ position: 'absolute', left: 0, right: 0, top: 0 }}\n    >\n      {children}\n    </motion.div>\n  );\n}\n\nconst stepVariants: Variants = {\n  enter: (dir: number) => ({\n    x: dir >= 0 ? '-100%' : '100%',\n    opacity: 0\n  }),\n  center: {\n    x: '0%',\n    opacity: 1\n  },\n  exit: (dir: number) => ({\n    x: dir >= 0 ? '50%' : '-50%',\n    opacity: 0\n  })\n};\n\ninterface StepProps {\n  children: ReactNode;\n}\n\nexport function Step({ children }: StepProps): JSX.Element {\n  return <div className=\"step-default\">{children}</div>;\n}\n\ninterface StepIndicatorProps {\n  step: number;\n  currentStep: number;\n  onClickStep: (step: number) => void;\n  disableStepIndicators?: boolean;\n}\n\nfunction StepIndicator({ step, currentStep, onClickStep, disableStepIndicators }: StepIndicatorProps) {\n  const status = currentStep === step ? 'active' : currentStep < step ? 'inactive' : 'complete';\n\n  const handleClick = () => {\n    if (step !== currentStep && !disableStepIndicators) {\n      onClickStep(step);\n    }\n  };\n\n  return (\n    <motion.div onClick={handleClick} className=\"step-indicator\" animate={status} initial={false}>\n      <motion.div\n        variants={{\n          inactive: { scale: 1, backgroundColor: '#222', color: '#a3a3a3' },\n          active: { scale: 1, backgroundColor: '#5227FF', color: '#5227FF' },\n          complete: { scale: 1, backgroundColor: '#5227FF', color: '#3b82f6' }\n        }}\n        transition={{ duration: 0.3 }}\n        className=\"step-indicator-inner\"\n      >\n        {status === 'complete' ? (\n          <CheckIcon className=\"check-icon\" />\n        ) : status === 'active' ? (\n          <div className=\"active-dot\" />\n        ) : (\n          <span className=\"step-number\">{step}</span>\n        )}\n      </motion.div>\n    </motion.div>\n  );\n}\n\ninterface StepConnectorProps {\n  isComplete: boolean;\n}\n\nfunction StepConnector({ isComplete }: StepConnectorProps) {\n  const lineVariants: Variants = {\n    incomplete: { width: 0, backgroundColor: 'transparent' },\n    complete: { width: '100%', backgroundColor: '#5227FF' }\n  };\n\n  return (\n    <div className=\"step-connector\">\n      <motion.div\n        className=\"step-connector-inner\"\n        variants={lineVariants}\n        initial={false}\n        animate={isComplete ? 'complete' : 'incomplete'}\n        transition={{ duration: 0.4 }}\n      />\n    </div>\n  );\n}\n\ninterface CheckIconProps extends React.SVGProps<SVGSVGElement> {}\n\nfunction CheckIcon(props: CheckIconProps) {\n  return (\n    <svg {...props} fill=\"none\" stroke=\"currentColor\" strokeWidth={2} viewBox=\"0 0 24 24\">\n      <motion.path\n        initial={{ pathLength: 0 }}\n        animate={{ pathLength: 1 }}\n        transition={{ delay: 0.1, type: 'tween', ease: 'easeOut', duration: 0.3 }}\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        d=\"M5 13l4 4L19 7\"\n      />\n    </svg>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "public/ts/default/src/ts-default/Components/Stepper/Stepper.css",
      "content": ".outer-container {\r\n  display: flex;\r\n  min-height: 100%;\r\n  flex: 1 1 0%;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 1rem;\r\n}\r\n\r\n@media (min-width: 640px) {\r\n  .outer-container {\r\n    aspect-ratio: 4 / 3;\r\n  }\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .outer-container {\r\n    aspect-ratio: 2 / 1;\r\n  }\r\n}\r\n\r\n.step-circle-container {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  width: 100%;\r\n  max-width: 28rem;\r\n  border-radius: 2rem;\r\n  box-shadow:\r\n    0 20px 25px -5px rgba(0, 0, 0, 0.1),\r\n    0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.step-indicator-row {\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n  padding: 2rem;\r\n}\r\n\r\n.step-content-default {\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.step-default {\r\n  padding-left: 2rem;\r\n  padding-right: 2rem;\r\n}\r\n\r\n.footer-container {\r\n  padding-left: 2rem;\r\n  padding-right: 2rem;\r\n  padding-bottom: 2rem;\r\n}\r\n\r\n.footer-nav {\r\n  margin-top: 2.5rem;\r\n  display: flex;\r\n}\r\n\r\n.footer-nav.spread {\r\n  justify-content: space-between;\r\n}\r\n\r\n.footer-nav.end {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.back-button {\r\n  transition: all 350ms;\r\n  border-radius: 0.25rem;\r\n  padding: 0.25rem 0.5rem;\r\n  color: #a3a3a3;\r\n  cursor: pointer;\r\n}\r\n\r\n.back-button:hover {\r\n  color: #52525b;\r\n}\r\n\r\n.back-button.inactive {\r\n  pointer-events: none;\r\n  opacity: 0.5;\r\n  color: #a3a3a3;\r\n}\r\n\r\n.next-button {\r\n  transition: all 350ms;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 9999px;\r\n  background-color: #E0E0E0;\r\n  color: #000000;\r\n  font-weight: 500;\r\n  letter-spacing: -0.025em;\r\n  padding: 0.375rem 0.875rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.next-button:hover {\r\n  background-color: #E0E0E0;\r\n}\r\n\r\n.next-button:active {\r\n  background-color: #E0E0E0;\r\n}\r\n\r\n.step-indicator {\r\n  position: relative;\r\n  cursor: pointer;\r\n  outline: none;\r\n}\r\n\r\n.step-indicator-inner {\r\n  display: flex;\r\n  height: 2rem;\r\n  width: 2rem;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 9999px;\r\n  font-weight: 600;\r\n}\r\n\r\n.active-dot {\r\n  height: 0.75rem;\r\n  width: 0.75rem;\r\n  border-radius: 9999px;\r\n  background-color: #000000;\r\n}\r\n\r\n.step-number {\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.step-connector {\r\n  position: relative;\r\n  margin-left: 0.5rem;\r\n  margin-right: 0.5rem;\r\n  height: 0.125rem;\r\n  flex: 1;\r\n  overflow: hidden;\r\n  border-radius: 0.25rem;\r\n  background-color: #52525b;\r\n}\r\n\r\n.step-connector-inner {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  height: 100%;\r\n}\r\n\r\n.check-icon {\r\n  height: 1rem;\r\n  width: 1rem;\r\n  color: #000;\r\n}\r\n",
      "type": "registry:item"
    }
  ]
}