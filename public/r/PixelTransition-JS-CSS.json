{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "PixelTransition-JS-CSS",
  "type": "registry:block",
  "title": "PixelTransition",
  "description": "Pixel dissolve transition for content reveal on hover.",
  "dependencies": [
    "gsap"
  ],
  "files": [
    {
      "path": "public/default/src/content/Animations/PixelTransition/PixelTransition.jsx",
      "content": "import { useRef, useEffect, useState } from 'react';\nimport { gsap } from 'gsap';\nimport './PixelTransition.css';\n\nfunction PixelTransition({\n  firstContent,\n  secondContent,\n  gridSize = 7,\n  pixelColor = 'currentColor',\n  animationStepDuration = 0.3,\n  className = '',\n  style = {},\n  aspectRatio = '100%'\n}) {\n  const containerRef = useRef(null);\n  const pixelGridRef = useRef(null);\n  const activeRef = useRef(null);\n  const delayedCallRef = useRef(null);\n\n  const [isActive, setIsActive] = useState(false);\n\n  const isTouchDevice =\n    'ontouchstart' in window || navigator.maxTouchPoints > 0 || window.matchMedia('(pointer: coarse)').matches;\n\n  useEffect(() => {\n    const pixelGridEl = pixelGridRef.current;\n    if (!pixelGridEl) return;\n\n    pixelGridEl.innerHTML = '';\n\n    for (let row = 0; row < gridSize; row++) {\n      for (let col = 0; col < gridSize; col++) {\n        const pixel = document.createElement('div');\n        pixel.classList.add('pixelated-image-card__pixel');\n        pixel.style.backgroundColor = pixelColor;\n\n        const size = 100 / gridSize;\n        pixel.style.width = `${size}%`;\n        pixel.style.height = `${size}%`;\n        pixel.style.left = `${col * size}%`;\n        pixel.style.top = `${row * size}%`;\n        pixelGridEl.appendChild(pixel);\n      }\n    }\n  }, [gridSize, pixelColor]);\n\n  const animatePixels = activate => {\n    setIsActive(activate);\n\n    const pixelGridEl = pixelGridRef.current;\n    const activeEl = activeRef.current;\n    if (!pixelGridEl || !activeEl) return;\n\n    const pixels = pixelGridEl.querySelectorAll('.pixelated-image-card__pixel');\n    if (!pixels.length) return;\n\n    gsap.killTweensOf(pixels);\n    if (delayedCallRef.current) {\n      delayedCallRef.current.kill();\n    }\n\n    gsap.set(pixels, { display: 'none' });\n\n    const totalPixels = pixels.length;\n    const staggerDuration = animationStepDuration / totalPixels;\n\n    gsap.to(pixels, {\n      display: 'block',\n      duration: 0,\n      stagger: {\n        each: staggerDuration,\n        from: 'random'\n      }\n    });\n\n    delayedCallRef.current = gsap.delayedCall(animationStepDuration, () => {\n      activeEl.style.display = activate ? 'block' : 'none';\n      activeEl.style.pointerEvents = activate ? 'none' : '';\n    });\n\n    gsap.to(pixels, {\n      display: 'none',\n      duration: 0,\n      delay: animationStepDuration,\n      stagger: {\n        each: staggerDuration,\n        from: 'random'\n      }\n    });\n  };\n\n  const handleMouseEnter = () => {\n    if (!isActive) animatePixels(true);\n  };\n  const handleMouseLeave = () => {\n    if (isActive) animatePixels(false);\n  };\n  const handleClick = () => {\n    animatePixels(!isActive);\n  };\n\n  return (\n    <div\n      ref={containerRef}\n      className={`pixelated-image-card ${className}`}\n      style={style}\n      onMouseEnter={!isTouchDevice ? handleMouseEnter : undefined}\n      onMouseLeave={!isTouchDevice ? handleMouseLeave : undefined}\n      onClick={isTouchDevice ? handleClick : undefined}\n    >\n      <div style={{ paddingTop: aspectRatio }} />\n      <div className=\"pixelated-image-card__default\">{firstContent}</div>\n      <div className=\"pixelated-image-card__active\" ref={activeRef}>\n        {secondContent}\n      </div>\n      <div className=\"pixelated-image-card__pixels\" ref={pixelGridRef} />\n    </div>\n  );\n}\n\nexport default PixelTransition;\n",
      "type": "registry:component"
    },
    {
      "path": "public/default/src/content/Animations/PixelTransition/PixelTransition.css",
      "content": ".pixelated-image-card {\r\n  background-color: #222;\r\n  color: var(--color-primary, #fff);\r\n  border-radius: 15px;\r\n  border: 2px solid #fff;\r\n  width: 300px;\r\n  max-width: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.pixelated-image-card__default,\r\n.pixelated-image-card__active,\r\n.pixelated-image-card__pixels {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n.pixelated-image-card__active {\r\n  z-index: 2;\r\n}\r\n\r\n.pixelated-image-card__active {\r\n  display: none;\r\n}\r\n\r\n.pixelated-image-card__pixels {\r\n  pointer-events: none;\r\n  position: absolute;\r\n  z-index: 3;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.pixelated-image-card__pixel {\r\n  display: none;\r\n  position: absolute;\r\n}\r\n",
      "type": "registry:item"
    }
  ]
}